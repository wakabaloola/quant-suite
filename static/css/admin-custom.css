/* Main admin styles */
:root {
  --primary: #1e3a5f; 
  --primary-light: #2c5694;
  --primary-dark: #162c49;
  --accent: #00a8cc;
  --light-border: #e0e6ef;
  --hover-blue: #3678c7; /* Consistent hover color */
}

/* Header - force the correct blue */
#header {
    background: #1e3a5f !important;
    color: white;
}

#branding h1 {
    font-family: 'Inter', sans-serif;
    font-weight: 600;
}

#branding h1 a {
    color: white !important;
}

/* User tools */
#user-tools {
    font-family: 'Inter', sans-serif;
    font-size: 0.8rem;
}

/* Breadcrumbs - already the right color */
div.breadcrumbs {
    background: #2c5694 !important;
}

/* Module headers - use a lighter blue for better readability */
.module h2, 
.module caption, 
.inline-group h2,
#changelist-filter h2 {
    background: #2c5694 !important; /* Lighter blue for better readability */
    font-family: 'Inter', sans-serif;
    font-size: 0.75rem;
    font-weight: 500;
    color: white !important; /* Ensure text is white */
}

/* Target long headers specifically */
.app-auth h2 {
    font-size: 0.7rem !important;
    letter-spacing: -0.5px;
}

/* Links */
a:link, a:visited {
    color: #1e3a5f;
}

a:hover {
    color: #00a8cc;
}

/* All buttons in admin - ensure consistent style */
.button, 
input[type=submit], 
input[type=button], 
.submit-row input, 
a.button,
#changelist-search input[type="submit"],
input[type="button"][value="Go"] {
    background: #2c5694 !important;
    color: white !important;
}

/* All button hover states - ensure consistency */
.button:hover, 
input[type=submit]:hover, 
input[type=button]:hover, 
.submit-row input:hover, 
a.button:hover,
#changelist-search input[type="submit"]:hover,
input[type="button"][value="Go"]:hover {
    background: #3678c7 !important; /* Same hover color for all buttons */
}

/* Default/primary buttons */
.button.default, 
input[type=submit].default, 
.submit-row input.default {
    background: #2c5694 !important;
    color: white !important;
}

/* Default/primary buttons hover */
.button.default:hover, 
input[type=submit].default:hover, 
.submit-row input.default:hover {
    background: #3678c7 !important;
}

/* Selector lists */
.selector-chosen h2 {
    background: #2c5694 !important;
}

/* Reset default filter styles to avoid layout issues */
#changelist-filter {
    position: static;
    width: 100%;
    margin-top: 20px;
    border-top: 1px solid var(--light-border);
    border-left: none;
}

.change-list .filtered .results, 
.change-list .filtered .paginator, 
.filtered #toolbar, 
.filtered div.xfull {
    margin-right: 0;
}

/* Make module containers respect available space */
.dashboard .module {
    box-sizing: border-box;
    width: 100%;
}

/* Ensure content doesn't overflow */
body, #container {
    overflow-x: hidden;
    max-width: 100%;
}

/* Calendar header */
.calendar caption {
    background: #2c5694 !important;
}

/* Object tools */
.object-tools a:link, .object-tools a:visited {
    background: #2c5694 !important;
    color: white !important;
}

.object-tools a:hover {
    background: #3678c7 !important;
}

/* MarkdownX Editor Improvements - Responsive */
.markdownx-editor {
    resize: vertical;
    min-height: 400px !important;
    width: 100% !important; /* Base width */
    max-height: 800px;
    overflow-y: auto !important;
    line-height: 1.5;
    font-family: 'JetBrains Mono', monospace;
    font-size: 14px;
    border: 1px solid var(--light-border);
    border-radius: 4px;
    padding: 10px;
    box-sizing: border-box; /* Important for proper sizing */
}

/* Fix the auto-growing textarea issue */
.markdownx-editor:focus {
    height: auto !important;
}

/* Make field containers responsive */
.field-definition,
.field-content {
    width: 100% !important;
    box-sizing: border-box;
    max-width: 100%;
}

/* Make form rows responsive */
.form-row {
    display: flex;
    flex-direction: column;
    max-width: 100%;
    box-sizing: border-box;
}

/* Allow field containers to fill available width */
.form-row > div {
    flex: 1;
    max-width: 100%;
    box-sizing: border-box;
}

/* Ensure the preview area is properly sized and responsive */
.markdownx-preview {
    width: 100% !important;
    padding: 15px;
    border: 1px solid var(--light-border);
    border-radius: 4px;
    margin-top: 10px;
    min-height: 300px;
    overflow-y: auto;
    background-color: #fcfcfc;
    box-sizing: border-box;
}

/* Style improvements for the markdownx container - make it responsive */
.markdownx-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

/* Adjust form field width and parent containers */
.module .form-row div.field-box {
    width: 100% !important;
    max-width: 100%;
    box-sizing: border-box;
}

/* Make label and input container responsive */
fieldset .form-row {
    display: flex;
    flex-direction: column;
    padding: 10px;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

/* Responsive adjustments for various screen sizes */
@media (max-width: 1024px) {
    .form-row > div.field-box {
        width: 100% !important;
        max-width: 100%;
    }
}

@media (max-width: 767px) {
    .markdownx-editor {
        min-height: 300px !important;
    }
}

/* Force full width for MarkdownX editor and related elements */
.markdownx-editor,
.form-row .markdownx-editor,
#id_definition,
textarea.markdownx-editor,
div.markdownx > textarea {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    flex: 1 1 100% !important;
}

/* Ensure the field wrapper takes full width */
.field-definition,
.form-row > div,
.field-box,
div.markdownx,
.markdownx-container {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    padding-right: 0 !important;
    flex: 1 1 100% !important;
}

/* Override Django's default column layout */
.colM .aligned .form-row {
    display: block;
    width: 100%;
    box-sizing: border-box;
}

/* Specifically target Django's admin layout classes */
.colM .aligned .form-row > div {
    width: 100% !important;
    box-sizing: border-box !important;
    float: none;
    display: block;
}

/* Override any flex constraints */
.aligned label + div.markdownx {
    flex: 1 1 100% !important;
    width: 100% !important;
    box-sizing: border-box !important;
}

/* Fix for any fieldset or module constraints */
fieldset.module div.markdownx,
fieldset.module .form-row,
fieldset.module .form-row > div {
    width: 100% !important;
    max-width: none !important;
    box-sizing: border-box !important;
}

/* Override any inline styles from markdownx.js */
[style*="width"] {
    max-width: 100% !important;
}

/* Override Django's column layout for aligned forms */
.aligned .form-row > div {
    width: 100% !important;
}
